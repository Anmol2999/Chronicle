<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head th:replace="~{/fragments/head.html}"></head>

  <body class="sub_page">
    <div class="hero_area">
      <div class="bg-box">
        <img th:src="@{/images/nav-bg.jpg}" alt="" />
      </div>
      <header th:replace="~{/fragments/header.html}"></header>
    </div>

    <section class="about_section layout_padding">
      <div class="container">
        <div class="post">
          <h3>
            <a th:text="${post.title}">Title</a>
          </h3>

          <h5
            th:text="'Author: ' + ${post.author != null ? post.author.username : 'Anonymous'}"
          ></h5>
          <h5
            th:text="'CreatedAt: ' + ${#temporals.format(post.createdAt, 'dd/MM/yyyy HH:mm')} + ' | UpdatedAt: ' + ${#temporals.format(post.updatedAt, 'dd/MM/yyyy HH:mm')}"
          ></h5>
          <p th:utext="${post.content}">Content</p>
          <hr />
          <div sec:authorize="isAuthenticated()" th:if="${isOwner}">
            <a
              th:href="@{'/posts/' + ${post.id}+'/edit'}"
              class="btn btn-secondary btn-lg active"
              role="button"
              aria-pressed="true"
              >Edit</a
            >
            <button
              type="button"
              class="btn btn-danger"
              data-toggle="modal"
              data-target="#exampleModal"
            >
              Delete
            </button>
          </div>
        </div>

        <!-- Modal -->
        <div
          class="modal fade"
          id="exampleModal"
          tabindex="-1"
          role="dialog"
          aria-labelledby="exampleModalLabel"
          aria-hidden="true"
        >
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">
                  Confirm Deletion
                </h5>
                <button
                  type="button"
                  class="close"
                  data-dismiss="modal"
                  aria-label="Close"
                >
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                <p class="text-danger">Are you sure you want to delete the post </p>
                
                <p class="text-danger">This action cannot be undone.</p>
              </div>
              <div class="modal-footer">
                <button
                  type="button"
                  class="btn btn-secondary"
                  data-dismiss="modal"
                >
                  Close
                </button>
                <a
                  th:href="@{'/posts/' + ${post.id} + '/delete'}"
                  class="btn btn-danger"
                  >Confirm Delete</a
                >
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    <footer th:replace="~{/fragments/footer.html}"></footer>
  </body>
</html>
